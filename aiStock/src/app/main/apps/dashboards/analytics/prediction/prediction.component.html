<div id="predictions" class="page-layout carded fullwidth inner-scroll">

    <!-- TOP BACKGROUND -->
    <!-- <div class="top-bg mat-accent-bg"></div> -->
    <!-- / TOP BACKGROUND -->

    <!-- CENTER -->
    <div class="header p-16 p-sm-18" fxLayout="column" fxLayoutAlign="start start" fxLayout.gt-xs="row"
        fxLayoutAlign.gt-xs="space-between center">

        <!-- <div class="logo" fxLayout="row" fxLayoutAlign="start center">
            <mat-icon class="logo-icon mr-16" [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}">
                shopping_basket
            </mat-icon>
            <span class="logo-text h1" [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">Predictions</span>
        </div> -->
        <div fxLayout="row" fxLayoutAlign="start center">
            <div class="logo" fxLayout="row" fxLayoutAlign="start center">
                <!-- <mat-icon class="logo-icon mr-16"
                          [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}">account_box
                </mat-icon> -->
                <span class="logo-text h3" [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">
                    <a [routerLink]="'/apps/dashboards/analytics'"
                        style="text-decoration: none;color:#b1b1b4;vertical-align:middle;">
                        <mat-icon style="vertical-align:middle;">keyboard_backspace</mat-icon>Back
                    </a>
                    <p style="margin: 30px; vertical-align:middle; display: inline;">{{stockName}} Stocks</p>
                </span>

                <!-- <span class="logo-text h4">
                    Home
                </span> -->
            </div>
        </div>
        <div fxHide.xs fxLayout="row">
            <span>Home -</span>
            <span style="color: #b1b1b4; display: inline; margin-left: 15px;"> Prediction Groups - </span>
            <span style="color: #b1b1b4; display: inline; margin-left: 15px;">{{stockName}} Stocks</span>
        </div>
        <!-- <div class="search-input-wrapper ml-sm-16" fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
            <label for="search" class="mr-8">
                <mat-icon class="secondary-text">search</mat-icon>
            </label>
            <mat-form-field floatLabel="never" fxFlex="1 0 auto">
                <input id="search" matInput #filter placeholder="Search">
            </mat-form-field>
        </div> -->
    </div>
    <div class="main-widget">
        <div fxLayout="row" class="nav-header">
            <div class="nav-bar" fxFlex="0 1 calc(25% - 0.5%)" fxFlex.lt-md="0 1 calc(50% - 0.5%)" fxFlex.lt-sm="100%"
                fxLayoutAlign="start center" [ngClass]="{active: activeStockTab == 'listStocks'}"
                (click)="activeStock('listStocks')" style="height:120px;">
                <div class="logo">
                    <span>
                        <mat-icon>sort</mat-icon>
                    </span>
                </div>

                <div class="info">
                    <div class="title fontSize">List of Stocks</div>
                    <div class="address bgColor">Choose a stock from the selected prediction groups</div>
                </div>
            </div>
            <div class="nav-bar" fxFlex="0 1 calc(25% - 0.5%)" fxFlex.lt-md="0 1 calc(50% - 0.5%)" fxFlex.lt-sm="100%"
                fxLayoutAlign="start center" [ngClass]="{active: activeStockTab == 'criteria'}"
                (click)="activeStock('criteria')" style="height:120px;">
                <div class="logo">
                    <span>
                        <mat-icon>view_comfy</mat-icon>
                    </span>
                </div>

                <div class="info">
                    <div class="title fontSize">Grouping Criteria</div>
                    <div class="address bgColor">Get to know how we categorize stock into groups</div>
                </div>
            </div>
        </div>
    </div>
    <div class="center">

        <!-- HEADER -->

        <!-- / HEADER -->

        <!-- <div class="search-input-wrapper ml-sm-16" fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
            <label for="search" class="mr-8">
                <mat-icon class="secondary-text">search</mat-icon>
            </label>
            <mat-form-field floatLabel="never" fxFlex="1 0 auto">
                <input id="search" matInput #filter placeholder="Search">
            </mat-form-field>
        </div> -->
        <!-- CONTENT CARD -->
        <div class="content-card mat-white-bg">
            <!-- <div fxLayoutAlign="start center"
                style="height:50px; color: white; background-color:#8262fa; display: flex;">
                <mat-form-field style=" margin-left:20px;">
                    <mat-select placeholder="Market Cap">
                        <mat-option *ngFor="let food of foods" [value]="food.value">
                            {{food.viewValue}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field style=" margin-left:20px;">
                    <mat-select placeholder="Share Volume">
                        <mat-option *ngFor="let food of foods" [value]="food.value">
                            {{food.viewValue}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field style=" margin-left:20px;">

                    <mat-select placeholder="Trending">
                        <mat-option *ngFor="let food of foods" [value]="food.value">
                            {{food.viewValue}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field style=" margin-left:20px;">
                    <mat-select placeholder="Tools">
                        <mat-option *ngFor="let food of foods" [value]="food.value">
                            {{food.viewValue}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div> -->
            <mat-table class="predictions-table" #table [dataSource]=" dataSource" matSort
                [@animateStagger]="{value:'50'}" fusePerfectScrollbar>
                <!-- ID Column -->
                <ng-container matColumnDef="ticker">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>Ticker</mat-header-cell>
                    <mat-cell *matCellDef="let prediction">
                        <p class="text-truncate">{{prediction.ticker}}</p>
                    </mat-cell>
                </ng-container>

                <!-- Reference Column -->
                <ng-container matColumnDef="stockName">
                    <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm>Stock Name</mat-header-cell>

                    <mat-cell *matCellDef="let prediction" fxHide fxShow.gt-sm>
                        <img src="assets/images/company/{{prediction.ticker_image}}.png" height="25px" width="25px">
                        <p class="text-truncate iconWidth" (click)="openStockDetail(prediction.id)">
                            {{prediction.stock_name}}</p>
                    </mat-cell>

                </ng-container>

                <!-- Name Column -->
                <ng-container matColumnDef="recommendedPrice">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>Recommended Price</mat-header-cell>
                    <mat-cell *matCellDef="let prediction">
                        <p class="text-truncate">
                            {{prediction.recommended_price | currency:'USD':'symbol'}}
                        </p>
                    </mat-cell>
                </ng-container>

                <!-- Total Price Column -->
                <ng-container matColumnDef="currentPrice">
                    <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-md>Current Price
                    </mat-header-cell>
                    <mat-cell *matCellDef="let prediction" fxHide fxShow.gt-md>
                        <p class="total-price text-truncate">
                            {{prediction.suggested_date_price | currency:'USD':'symbol'}}
                        </p>
                    </mat-cell>
                </ng-container>

                <!-- Payment Column -->
                <ng-container matColumnDef="suggestedDate">
                    <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm>Suggested Date
                    </mat-header-cell>
                    <mat-cell *matCellDef="let prediction" fxHide fxShow.gt-sm>
                        <p class="text-truncate">
                            {{prediction.suggested_date | date:'dd MMMM y'}}
                        </p>
                    </mat-cell>
                </ng-container>

                <!-- Status Column -->
                <ng-container matColumnDef="tragetPrice">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>Traget Price</mat-header-cell>
                    <mat-cell *matCellDef="let prediction">
                        <p class="status text-truncate h6 p-4">
                            {{prediction.target_price| currency:'USD':'symbol'}}
                        </p>
                    </mat-cell>
                </ng-container>

                <!-- Date Column -->
                <ng-container matColumnDef="action">
                    <mat-header-cell *matHeaderCellDef mat-sort-header fxHide fxShow.gt-sm>Action</mat-header-cell>
                    <mat-cell *matCellDef="let prediction" fxHide fxShow.gt-sm>
                        <p class="text-truncate">
                            <button *ngIf="prediction.addedToPortfolio == false" class="submit-button"
                                mat-stroked-button (click)="addToPortfolioSubmit(prediction.id)">Add to
                                portfolio</button>
                            <button style="color: white;
                            background-color: #7F63F4;" *ngIf="prediction.addedToPortfolio == true"
                                class="submit-button" mat-stroked-button disabled>Already Added</button>
                        </p>
                    </mat-cell>
                </ng-container>

                <mat-header-row *matHeaderRowDef="displayedColumns;"></mat-header-row>

                <mat-row *matRowDef="let prediction; columns: displayedColumns;">
                </mat-row>
            </mat-table>

            <mat-paginator #paginator [length]="dataSource.filteredData.length" [pageIndex]="0" [pageSize]="10"
                [pageSizeOptions]="[5, 10, dataSource.filteredData.length]">
            </mat-paginator>

        </div>
        <!-- / CONTENT CARD -->
    </div>
    <!-- / CENTER -->
</div>